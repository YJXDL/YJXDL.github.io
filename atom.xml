<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>YJXDL的博客</title>
  
  <subtitle>生若直木,不语斧凿</subtitle>
  <link href="https://yjxdl.github.io/atom.xml" rel="self"/>
  
  <link href="https://yjxdl.github.io/"/>
  <updated>2022-05-03T01:23:56.915Z</updated>
  <id>https://yjxdl.github.io/</id>
  
  <author>
    <name>闫晶鑫</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>C# WinForm窗体自适应各种屏幕的分辨率</title>
    <link href="https://yjxdl.github.io/2022/05/03/CAPP/CSharp%20WinForm%E7%AA%97%E4%BD%93%E9%80%82%E5%BA%94%E5%90%84%E7%A7%8D%E5%B1%8F%E5%B9%95%E5%88%86%E8%BE%A8%E7%8E%87/"/>
    <id>https://yjxdl.github.io/2022/05/03/CAPP/CSharp%20WinForm%E7%AA%97%E4%BD%93%E9%80%82%E5%BA%94%E5%90%84%E7%A7%8D%E5%B1%8F%E5%B9%95%E5%88%86%E8%BE%A8%E7%8E%87/</id>
    <published>2022-05-03T01:23:00.000Z</published>
    <updated>2022-05-03T01:23:56.915Z</updated>
    
    <content type="html"><![CDATA[<style>h2{    background: linear-gradient(to right, #a8edea 0%, #fed6e3 100%);color: #000;}h3{background: linear-gradient(to top, #e6e9f0 0%, #eef1f5 100%);}h4{background-image: linear-gradient(to right, #eea2a2 0%, #bbc1bf 19%, #57c6e1 42%, #b49fda 79%, #7ac5d8 100%);}</style><h2 id="C-WinForm窗体自适应各种屏幕的分辨率"><a href="#C-WinForm窗体自适应各种屏幕的分辨率" class="headerlink" title="C# WinForm窗体自适应各种屏幕的分辨率"></a>C# WinForm窗体自适应各种屏幕的分辨率</h2><h3 id="控件大小随着窗体大小等比例的缩放"><a href="#控件大小随着窗体大小等比例的缩放" class="headerlink" title="控件大小随着窗体大小等比例的缩放"></a>控件大小随着窗体大小等比例的缩放</h3><ul><li>得到当前窗体的宽度和高度 <figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">//定义两个变量记录当前窗体的宽度和高度</span></span><br><span class="line"><span class="keyword">private</span> <span class="built_in">float</span> x; <span class="comment">//当前窗体的宽度</span></span><br><span class="line"><span class="keyword">private</span> <span class="built_in">float</span> y; <span class="comment">//当前窗体的高度</span></span><br></pre></td></tr></table></figure>x,y值为：<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">x = panel1.Width;</span><br><span class="line">y = panel1.Height;</span><br></pre></td></tr></table></figure></li><li><strong>得到需要扩大的倍数，在Form_Resize下设置</strong><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Form1_Resize</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">float</span> newx = (<span class="keyword">this</span>.Width) / x; <span class="comment">//宽度需要扩大的倍数</span></span><br><span class="line">    <span class="built_in">float</span> newy = (<span class="keyword">this</span>.Height) / y; <span class="comment">//高度需要扩大的倍数</span></span><br><span class="line">    setControls(newx, newy, <span class="keyword">this</span>);  <span class="comment">//对设置窗体的控件大小</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><strong>设置窗体控件的大小</strong><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setControls</span>(<span class="params"><span class="built_in">float</span> newx,<span class="built_in">float</span> newy,Control cons</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">foreach</span>(Control con <span class="keyword">in</span> cons.Controls)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(con.Tag !=<span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">string</span>[] mytag = con.Tag.ToString().Split(<span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">            <span class="comment">//根据窗体缩放的比例确定控件的值</span></span><br><span class="line">            con.Width = Convert.ToInt32(System.Convert.ToSingle(mytag[<span class="number">0</span>]) * newx);<span class="comment">//宽度</span></span><br><span class="line">            con.Height = Convert.ToInt32(System.Convert.ToSingle(mytag[<span class="number">1</span>]) * newy);<span class="comment">//高度</span></span><br><span class="line">            con.Left = Convert.ToInt32(System.Convert.ToSingle(mytag[<span class="number">2</span>]) * newx);<span class="comment">//左边距</span></span><br><span class="line">            con.Top = Convert.ToInt32(System.Convert.ToSingle(mytag[<span class="number">3</span>]) * newy);<span class="comment">//顶边距</span></span><br><span class="line">            Single currentSize = System.Convert.ToSingle(mytag[<span class="number">4</span>]) * newy;<span class="comment">//字体大小</span></span><br><span class="line">            con.Font = <span class="keyword">new</span> Font(con.Font.Name, currentSize, con.Font.Style, con.Font.Unit);</span><br><span class="line">            <span class="keyword">if</span> (con.Controls.Count &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                setControls(newx, newy, con);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="遍历控件得到每个窗体的宽度、高度、左边上边和窗体的大小"><a href="#遍历控件得到每个窗体的宽度、高度、左边上边和窗体的大小" class="headerlink" title="遍历控件得到每个窗体的宽度、高度、左边上边和窗体的大小"></a>遍历控件得到每个窗体的宽度、高度、左边上边和窗体的大小</h3><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setTag</span>(<span class="params">Control cons</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">foreach</span>(Control con <span class="keyword">in</span> cons.Controls)</span><br><span class="line">    &#123;</span><br><span class="line">        con.Tag = con.Width + <span class="string">&quot;;&quot;</span> + con.Height + <span class="string">&quot;;&quot;</span> + con.Left + <span class="string">&quot;;&quot;</span> + con.Top + <span class="string">&quot;;&quot;</span> + con.Font.Size;</span><br><span class="line">        <span class="keyword">if</span>(con.Controls.Count&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            setTag(con);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="设置改变大小"><a href="#设置改变大小" class="headerlink" title="设置改变大小"></a>设置改变大小</h3><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">changeSize</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    SetStyle(ControlStyles.UserPaint, <span class="literal">true</span>);</span><br><span class="line">    SetStyle(ControlStyles.AllPaintingInWmPaint, <span class="literal">true</span>);</span><br><span class="line">    SetStyle(ControlStyles.OptimizedDoubleBuffer, <span class="literal">true</span>);</span><br><span class="line">    x = <span class="keyword">this</span>.Width; </span><br><span class="line">    y = <span class="keyword">this</span>.Height;</span><br><span class="line">    setTag(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">//this.WindowState = FormWindowState.Maximized;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3></li></ul><p><strong>这是一个私有仓库，只允许本人访问</strong><br><a href="https://github.com/YJXDL/CSharp-AutoSize">代码地址</a></p>]]></content>
    
    
    <summary type="html">C# WinForm窗体自适应各种屏幕的分辨率</summary>
    
    
    
    <category term="C#" scheme="https://yjxdl.github.io/categories/C/"/>
    
    
    <category term="C#" scheme="https://yjxdl.github.io/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>C#学习笔记</title>
    <link href="https://yjxdl.github.io/2022/04/29/CAPP/CSharpLearning/"/>
    <id>https://yjxdl.github.io/2022/04/29/CAPP/CSharpLearning/</id>
    <published>2022-04-29T04:38:18.000Z</published>
    <updated>2022-05-03T07:42:48.714Z</updated>
    
    <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="Please enter the password to read the blog." />    <label for="pass">Please enter the password to read the blog.</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">The article has been encrypted, please enter your password to view.&lt;br&gt;</summary>
    
    
    
    <category term="C#学习" scheme="https://yjxdl.github.io/categories/C-%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="C#" scheme="https://yjxdl.github.io/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>C#和Matlab混合编程</title>
    <link href="https://yjxdl.github.io/2022/04/27/CAPP/CSharp%E5%92%8CMatlab%E6%B7%B7%E5%90%88%E7%BC%96%E7%A8%8B/"/>
    <id>https://yjxdl.github.io/2022/04/27/CAPP/CSharp%E5%92%8CMatlab%E6%B7%B7%E5%90%88%E7%BC%96%E7%A8%8B/</id>
    <published>2022-04-27T04:41:40.000Z</published>
    <updated>2022-04-29T10:21:59.922Z</updated>
    
    <content type="html"><![CDATA[<style>h2{    background: linear-gradient(to right, #a8edea 0%, #fed6e3 100%);color: #000;}h3{    background: linear-gradient(to top, #e6e9f0 0%, #eef1f5 100%);}</style><h2 id="C-与Matlab混合编程"><a href="#C-与Matlab混合编程" class="headerlink" title="C#与Matlab混合编程"></a>C#与Matlab混合编程</h2><h3 id="在Matlab中编写函数"><a href="#在Matlab中编写函数" class="headerlink" title="在Matlab中编写函数"></a>在Matlab中编写函数</h3><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">result</span> = <span class="title">addNum</span><span class="params">(a,b)</span></span></span><br><span class="line">    result = a + b;</span><br><span class="line"></span><br><span class="line">    x = <span class="number">-5</span>:<span class="number">0.1</span>:<span class="number">5</span>;</span><br><span class="line">    y = <span class="built_in">sin</span>(x);</span><br><span class="line">    <span class="built_in">plot</span>(x,y)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="对函数进行封装"><a href="#对函数进行封装" class="headerlink" title="对函数进行封装"></a>对函数进行封装</h3><p><strong>在命令行窗口中输入deploytool调出封装工具箱,选择Library Compiler.</strong><br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427090420.png" alt="Library Compiler"></p><ol><li><strong>在TYPE下选择 .NET Assembly</strong><br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427091433.png"></li><li><strong>在EXPORTED FUNCTIONS 点击右边+号，点击你写的程序点击打开</strong><br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427091321.png"></li><li><strong>打包程序</strong></li></ol><ul><li>此时PACKAGE 变为绿色的小勾<br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427091552.png"></li><li>点击绿色的小勾，然后选择对应的路径存放你写的程序就OK。<br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427091736.png" alt="处理过程"></li><li>创建成功会出现以下文件夹<br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427092014.png"><h3 id="对C-的环境进行选择"><a href="#对C-的环境进行选择" class="headerlink" title="对C#的环境进行选择"></a>对C#的环境进行选择</h3></li><li><strong>这一步很重要，不然肯定会报错</strong></li><li><strong>右键解决方案，点击属性</strong></li><li><strong>在属性中点击生成，目标平台选择x64即可</strong><br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220428153246.png"><h3 id="编写C-函数对Matlab进行调用"><a href="#编写C-函数对Matlab进行调用" class="headerlink" title="编写C#函数对Matlab进行调用"></a>编写C#函数对Matlab进行调用</h3></li><li><strong>先创建好一个Winform界面，把button按钮拖到界面上，我们在Button的click事件下，测试我们的程序</strong>。</li><li><strong>右键引用-&gt;添加引用</strong><br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427092849.png"><ul><li>添加刚刚生成的dll 在刚刚的路径下for_testing文件夹下选择addNum.dll,点击添加。<br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427093323.png"></li><li>添加MWArray.dll 在你安装MATLAB的路径下找到toolbox-&gt;donetbuilder-&gt;bin-&gt;win64-&gt;v4.0<br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427093710.png"></li></ul></li><li><strong>写程序</strong><br>在程序中添加引用<br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427093903.png"><ul><li>在Click事件下写代码<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Class1 demo = <span class="keyword">new</span> Class1();</span><br><span class="line">    MWArray a = <span class="number">1</span>, b = <span class="number">2</span>, c;</span><br><span class="line">    c = demo.addNum(a, b);            </span><br><span class="line">    button1.Text = c.ToString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><strong>运行结果</strong><ul><li>点击Button会出现：Button的Text变为我们加和的值，然后图片也显示出来了<br><img src="https://cdn.jsdelivr.net/gh/YJXDL/BlogPic/PicFile/20220427094200.png"></li></ul></li><li><strong>运行出错的解决方法</strong><br>运行结束时出现”无法加载 DLL “mclmcrrt9_4.dll”:找不到指定模块。<br><strong>解决办法：</strong> 安装matlab版本的MCR(Matlab compiler runtime),重启VS即可。<br><a href="https://ww2.mathworks.cn/products/compiler/matlab-runtime.html">MCR下载地址</a></li></ul>]]></content>
    
    
    <summary type="html">C#和Matlab混合编程</summary>
    
    
    
    <category term="混合编程" scheme="https://yjxdl.github.io/categories/%E6%B7%B7%E5%90%88%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="C#" scheme="https://yjxdl.github.io/tags/C/"/>
    
    <category term="Matlab" scheme="https://yjxdl.github.io/tags/Matlab/"/>
    
  </entry>
  
</feed>
